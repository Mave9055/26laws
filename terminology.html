<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminology Guide - The Wounded Blueprint</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    </head>
<body>
    <header class="main-header">
        <div class="logo">The Wounded Blueprint</div>
        <nav>
            <a href="index.html">Home</a>
            <a href="terminology.html" class="active">Terminology Guide</a>
            <a href="who-i-am.html">Who I Am</a>
            <a href="resources.html">Resources</a>
        </nav>
    </header>

    <main class="container content-area">
        <section class="terminology-section">
            <h1>Understanding Complex PTSD Through Truth, Not Comfort</h1>
            <p>This guide provides clinical definitions and explanations for understanding Complex PTSD. It covers diagnostic criteria, symptom domains, neurobiological impacts, differential diagnosis, and evidence-based treatment approaches.</p>
            <p>While grounded in current clinical understanding, this remains peer education—not a replacement for professional diagnosis or treatment.</p>
            <div class="crisis-support">
                **Crisis Support**<br>
                If you're in immediate distress: Call or text **988**
            </div>

            <div class="search-container">
                <input
                    type="text"
                    id="term-search"
                    placeholder="Search terms or definitions..."
                    autocomplete="off"
                >
                <button id="toggle-all" class="clear-btn">Expand All</button>
                <button id="clear-search" class="clear-btn">Clear</button>
            </div>
            <div id="no-results" class="no-results" style="display: none;">
                No matching terms found.
            </div>
            <div class="accordion-list">
                
                <div class="accordion-category">
                    <h2 class="accordion-header">Diagnostic Framework</h2>
                    <div class="accordion-content">
                        
                        <div class="term" id="icd-11-cptsd">
                            <h3 class="term-title">ICD-11 Definition of Complex PTSD</h3>
                            <p class="term-definition">The World Health Organization's ICD-11 (effective January 2022) formally recognizes Complex PTSD as a distinct diagnostic entity. To meet criteria, an individual must exhibit Core PTSD Symptoms (Required) AND Disturbances in Self-Organisation (DSO) - Required for CPTSD.</p>
                        </div>

                        <div class="term" id="core-ptsd-symptoms">
                            <h3 class="term-title">Core PTSD Symptoms (Required)</h3>
                            <p class="term-definition">Includes: **Re-experiencing** (reliving the trauma through unwanted flashbacks, distressing memories, or nightmares); **Avoidance** (intentional effort to avoid reminders); and **Sense of Current Threat** (state of hypervigilance and heightened startle response. Persistent feeling of being constantly on guard or in immediate danger).</p>
                        </div>
                        
                        <div class="term" id="dso-disturbances">
                            <h3 class="term-title">Disturbances in Self-Organisation (DSO) - Required for CPTSD</h3>
                            <p class="term-definition">Includes: **Difficulties in Emotion Regulation** (significant trouble managing emotional responses); **Negative Self-Concept** (persistent and pervasive feelings of worthlessness, shame, or guilt); and **Disturbances in Relationships** (profound and ongoing challenges in forming and maintaining healthy connections).</p>
                        </div>
                        
                        <div class="term" id="dsm-5-approach">
                            <h3 class="term-title">DSM-5 Approach</h3>
                            <p class="term-definition">The DSM-5 does not include a separate CPTSD diagnosis. Instead, it broadened PTSD criteria by adding "alterations of cognitions and mood" and including a dissociative subtype for prominent depersonalization or derealization.</p>
                        </div>
                        
                    </div>
                </div>

                <div class="accordion-category">
                    <h2 class="accordion-header">Etiology and Traumatic Stressors</h2>
                    <div class="accordion-content">

                        <div class="term" id="causes-complex-ptsd">
                            <h3 class="term-title">What Causes Complex PTSD</h3>
                            <p class="term-definition">CPTSD develops from exposure to prolonged or repeated traumatic stressors, particularly those where "escape is not possible." Key principle: **Cumulative trauma is more damaging than single-episode trauma.**</p>
                        </div>

                        <div class="term" id="primary-stressors">
                            <h3 class="term-title">Primary Traumatic Stressors</h3>
                            <p class="term-definition">Includes: Childhood physical and sexual abuse, long-term domestic violence, sex trafficking, torture, genocide exposure, prolonged medical trauma (e.g., repeated painful procedures, extended NICU stays).</p>
                        </div>

                        <div class="term" id="non-interpersonal-trauma">
                            <h3 class="term-title">Non-Interpersonal Medical Trauma</h3>
                            <p class="term-definition">Early medical trauma—such as a Very Low Birth Weight infant's confinement to an incubator—can encode a foundational template of dysregulation that mirrors interpersonal trauma's impact. The developing nervous system lacks capacity for cognitive appraisal.</p>
                        </div>
                        
                    </div>
                </div>
                
                <div class="accordion-category">
                    <h2 class="accordion-header">Neurobiological Manifestations</h2>
                    <div class="accordion-content">

                        <div class="term" id="brain-adaptations">
                            <h3 class="term-title">Brain Adaptations to Chronic Trauma</h3>
                            <p class="term-definition">CPTSD symptoms are direct results of physical adaptations in brain structure and function, including: **Amygdala Hyperactivation** (threat detection center overly sensitive); **Hippocampal Impairment** (difficulty distinguishing between past danger and present safety); **Prefrontal Cortex Dysregulation** (executive control center taken offline); and **HPA Axis Dysfunction** (hormonal stress system perpetually alert).</p>
                        </div>
                        
                    </div>
                </div>

                <div class="accordion-category">
                    <h2 class="accordion-header">Clinical Symptom Profile</h2>
                    <div class="accordion-content">

                        <div class="term" id="emotional-dysregulation">
                            <h3 class="term-title">Emotional and Affective Dysregulation</h3>
                            <p class="term-definition">Inability to manage intense emotional responses due to a nervous system shaped by chronic threat. Manifests as chronic anxiety, sudden surges of rage, crushing lows, self-harm, and **dissociation**—feeling detached from body or reality feeling unreal.</p>
                        </div>

                        <div class="term" id="fractured-self-concept">
                            <h3 class="term-title">Fractured Self-Concept</h3>
                            <p class="term-definition">Chronic developmental trauma fundamentally distorts sense of self, leading to pervasive shame and worthlessness, survivor's guilt, persistent belief of being fundamentally broken or flawed, and profound sense of alienation from others.</p>
                        </div>

                        <div class="term" id="somatic-distress">
                            <h3 class="term-title">Somatic Distress ("The body keeps the score")</h3>
                            <p class="term-definition">Unresolved trauma manifests physically, including chronic pain, migraines, severe headaches, gastrointestinal issues (ulcers, IBS), fibromyalgia, and chronic fatigue.</p>
                        </div>

                        <div class="term" id="chronic-trauma-responses">
                            <h3 class="term-title">Chronic Trauma Responses (Survival Modes)</h3>
                            <p class="term-definition">Nervous system stuck in survival modes: **Fight** (aggressive outbursts, controlling mentality); **Flight** (chronic busyness, micromanaging); **Freeze** (numbness, withdrawal, difficulty with decision-making); **Fawn** (excessive people-pleasing to appease others and avoid conflict).</p>
                        </div>
                        
                    </div>
                </div>

                <div class="accordion-category">
                    <h2 class="accordion-header">Differential Diagnosis</h2>
                    <div class="accordion-content">

                        <div class="term" id="cptsd-vs-bpd">
                            <h3 class="term-title">CPTSD vs. Borderline Personality Disorder (BPD)</h3>
                            <p class="term-definition">Significant overlap in symptom presentation makes differentiation critical. **BPD Core Fear:** Abandonment terror. **CPTSD Core Fear:** Fear of trusting self or others to handle threats. Key distinction: Trauma is a prerequisite for CPTSD, but not BPD (though 81% of adults with BPD have childhood trauma histories).</p>
                            <p class="term-definition-detail">**Clinical Focus BPD:** Abandonment terror. **CPTSD:** Fear of trusting self or others to handle threats. **Relational Pattern BPD:** Alternating idealization and devaluation. **CPTSD:** Schemas about unreliable others. **Self-Concept BPD:** Identity disturbance. **CPTSD:** Affectively charged schemas about self. **Typical History BPD:** Neglect or compromised caregiver relationships. **CPTSD:** Abuse or emotional betrayal in primary relationships.</p>
                        </div>
                        
                    </div>
                </div>

                <div class="accordion-category">
                    <h2 class="accordion-header">Treatment Framework</h2>
                    <div class="accordion-content">

                        <div class="term" id="phase-oriented-treatment">
                            <h3 class="term-title">Phase-Oriented Treatment Model</h3>
                            <p class="term-definition">Consensus standard of care endorsed by ISTSS and NICE. Consists of three phases: **Phase 1: Safety and Stabilization** (Building self-regulatory skills, psychoeducation); **Phase 2: Trauma Memory Processing** (Review and reappraise traumatic memories, integrate narrative); **Phase 3: Consolidation and Reintegration** (Apply gains toward building meaningful life, fostering healthier relationships).</p>
                        </div>

                        <div class="term" id="therapeutic-modalities">
                            <h3 class="term-title">Evidence-Based Therapeutic Modalities</h3>
                            <p class="term-definition">Includes: **STAIR-MPE** (Integrates skill-building with prolonged exposure); **DBT + PE** (Combines DBT's skills framework with exposure therapy); **TARGET** (Processes trauma without direct exposure). Core therapies (CBT, EMDR, Exposure Therapy) show varying effects on emotional regulation and self-concept. Critical finding: **Childhood trauma was associated with less beneficial outcomes across all therapies**, underscoring necessity of robust Phase 1.</p>
                        </div>
                        
                    </div>
                </div>

                <div class="accordion-category">
                    <h2 class="accordion-header">Core Concepts in Healing</h2>
                    <div class="accordion-content">

                        <div class="term" id="power-of-narrative">
                            <h3 class="term-title">The Power of Narrative</h3>
                            <p class="term-definition">Creating a coherent narrative from traumatic chaos facilitates the shift **From: "What is wrong with me?" To: "What happened to me?"** This reframe is the essential first step from self-blame toward self-compassion.</p>
                        </div>

                        <div class="term" id="redefining-resilience">
                            <h3 class="term-title">Redefining Resilience</h3>
                            <p class="term-definition">True resilience in the CPTSD context is not "bouncing back." It's the gritty, tenacious ember that refuses to die. The stubborn will to survive and persistent drive to understand, even in the face of overwhelming pain.</p>
                        </div>
                        
                    </div>
                </div>
            </div>

            <div class="professional-support">
                <h2>Professional Support</h2>
                <p>This terminology guide provides educational framework, not diagnostic or treatment services. If you're struggling with trauma symptoms, please seek care from qualified trauma-informed mental health professional.</p>
                <h3>Support and Resources</h3>
                <p>If you or someone you know is in crisis: **988 Suicide & Crisis Lifeline**. Call or text 988. Available 24/7. Free. Confidential.</p>
            </div>
            
        </section>
    </main>

    <footer class="main-footer">
        &copy; 2024 The Wounded Blueprint | Peer Education on Complex PTSD
        <p>Crisis Support: Call or Text 988</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const searchInput = document.getElementById("term-search");
            const clearBtn = document.getElementById("clear-search");
            const noResults = document.getElementById("no-results");
            const categories = document.querySelectorAll(".accordion-category");
            const toggleAllBtn = document.getElementById("toggle-all");
            let allCategoriesExpanded = false;

            // --- ACCORDION TOGGLE LOGIC (Existing Functionality) ---
            categories.forEach(category => {
                const header = category.querySelector(".accordion-header");
                const content = category.querySelector(".accordion-content");
                header.addEventListener("click", () => {
                    const isVisible = content.style.display === "block";
                    content.style.display = isVisible ? "none" : "block";
                    header.classList.toggle("active");
                });
            });

            // --- Feature 1 & 2: URL Hash State (Deep Linking) & Internal Linking ---
            function applyHashLink() {
                const termId = window.location.hash.substring(1);
                if (!termId) return;

                const targetTerm = document.getElementById(termId);

                if (targetTerm) {
                    const categoryContent = targetTerm.closest(".accordion-content");

                    if (categoryContent) {
                        const category = categoryContent.closest(".accordion-category");
                        const header = category.querySelector(".accordion-header");

                        // Ensure category is open
                        if (categoryContent.style.display !== "block") {
                            categoryContent.style.display = "block";
                            header.classList.add("active");
                        }

                        targetTerm.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        targetTerm.classList.add("target-highlight");
                        setTimeout(() => {
                            targetTerm.classList.remove("target-highlight");
                        }, 2000);
                    }
                }
            }

            // Set the IDs on all terms for hash linking (FIXED SLUG LOGIC)
            document.querySelectorAll(".term-title").forEach(titleEl => {
                const slug = titleEl.textContent.trim().toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');
                titleEl.closest(".term").id = slug;
            });

            applyHashLink();
            window.addEventListener('hashchange', applyHashLink);
            
            // Delegate click event for internal links
            document.body.addEventListener('click', (event) => {
                const target = event.target;
                if (target.tagName === 'A' && target.getAttribute('href').startsWith('#')) {
                    event.preventDefault();
                    window.location.hash = target.getAttribute('href');
                }
            });


            // --- Live Search Function (Filtering) ---
            searchInput.addEventListener("input", () => {
                const query = searchInput.value.toLowerCase().trim();
                let hasVisibleResults = false;

                categories.forEach(category => {
                    const header = category.querySelector(".accordion-header");
                    const content = category.querySelector(".accordion-content");
                    const terms = category.querySelectorAll(".term");
                    let categoryHasMatch = false;

                    terms.forEach(term => {
                        const title = term.querySelector(".term-title").textContent.toLowerCase();
                        const definition = term.querySelector(".term-definition").textContent.toLowerCase();

                        if (query === "" || title.includes(query) || definition.includes(query)) {
                            term.style.display = "block";
                            categoryHasMatch = true;
                            hasVisibleResults = true;

                            if (query !== "") {
                                highlightText(term, query);
                            } else {
                                removeHighlight(term);
                            }
                        } else {
                            term.style.display = "none";
                            removeHighlight(term);
                        }
                    });

                    if (categoryHasMatch) {
                        category.style.display = "block";
                        if (query !== "") {
                            content.style.display = "block";
                            header.classList.add("active");
                        }
                    } else {
                        category.style.display = "none";
                    }
                });

                noResults.style.display = hasVisibleResults ? "none" : "block";

                // --- Feature 3: Toggle Logic Placement (END OF INPUT LISTENER) ---
                const isSearchActive = searchInput.value.trim() !== "";
                toggleAllBtn.style.display = isSearchActive ? "none" : "inline-flex";

                if (!isSearchActive) {
                    allCategoriesExpanded = false;
                    toggleAllBtn.textContent = "Expand All";
                }
                // --- END FEATURE 3 PLACEMENT ---
            });

            // Clear button
            clearBtn.addEventListener("click", () => {
                searchInput.value = "";
                searchInput.dispatchEvent(new Event("input"));
            });

            // Highlight function
            function highlightText(term, query) {
                const title = term.querySelector(".term-title");
                const definition = term.querySelector(".term-definition");

                [title, definition].forEach(el => {
                    if (!el.dataset.original) {
                        el.dataset.original = el.innerHTML;
                    }

                    const regex = new RegExp(`(${escapeRegex(query)})`, "gi");
                    el.innerHTML = el.dataset.original.replace(regex, '<span class="highlight">$1</span>');
                });
            }
            
            // Remove highlight
            function removeHighlight(term) {
                const title = term.querySelector(".term-title");
                const definition = term.querySelector(".term-definition");

                [title, definition].forEach(el => {
                    if (el.dataset.original) {
                        el.innerHTML = el.dataset.original;
                    }
                });
            }

            // Escape regex special characters
            function escapeRegex(string) {
                return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            }
            
            // --- Feature 3: Expand/Collapse All Toggle Logic ---
            function setCategoryState(category, shouldExpand) {
                const header = category.querySelector(".accordion-header");
                const content = category.querySelector(".accordion-content");
                
                if (shouldExpand) {
                    content.style.display = "block";
                    header.classList.add("active");
                } else {
                    content.style.display = "none";
                    header.classList.remove("active");
                }
            }

            function toggleAll() {
                allCategoriesExpanded = !allCategoriesExpanded;
                categories.forEach(category => {
                    if (category.style.display !== "none") {
                        setCategoryState(category, allCategoriesExpanded);
                    }
                });

                toggleAllBtn.textContent = allCategoriesExpanded ? "Collapse All" : "Expand All";
            }

            toggleAllBtn.addEventListener("click", toggleAll);

            // Initial run to display the toggle button if search is empty
            searchInput.dispatchEvent(new Event("input"));
            
        });
    </script>
    </body>
</html>
